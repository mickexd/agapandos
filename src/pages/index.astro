---
import "../styles/global.css";
import Intro from "../components/intro.astro";
import Seccion1 from "../components/seccion1.astro";
import Seccion2 from "../components/seccion2.astro";
import Seccion3 from "../components/seccion3.astro";
import Seccion4 from "../components/seccion4.astro";
import Specs from "../components/specs.astro";
import Seccion5 from "../components/seccion5.astro";
import Seccion6 from "../components/seccion6.astro";
import Map from "../components/map.astro";
import NavBar from "../components/NavBar.astro";
import Footer from "../components/footer.astro";
import AnimatedButton from "../animated-button/animated-button.jsx";
---

<html lang="es">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content={Astro.generator} />

    <!-- SEO Meta Tags -->
    <title>
      Cabañas Los Agapandos - Renta de Cabañas con Vista 360° | Cabin Rentals
      with 360° Views
    </title>
    <meta
      name="description"
      content="Renta cabañas acogedoras en Los Agapandos con energía solar, agua caliente 24h y más de 4,000 m² de jardín. Experiencia única con vistas panorámicas 360°. | Rent cozy cabins at Los Agapandos with solar energy, 24h hot water and over 4,000 m² of garden. Unique experience with 360° panoramic views."
    />
    <meta
      name="keywords"
      content="cabañas renta, cabañas mexico, hospedaje cabañas, renta vacacional, cabañas familiares, turismo rural, energía solar, vista 360, cabin rental, vacation rental, family cabins, rural tourism, solar energy, 360 view, eco cabins, nature retreat"
    />
    <meta name="author" content="Cabañas Los Agapandos" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="Spanish, English" />
    <meta name="geo.region" content="MX" />
    <meta name="geo.placename" content="México" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.losagapandostapalpa.com/" />
    <meta
      property="og:title"
      content="Cabañas Los Agapandos - Renta de Cabañas Ecológicas | Eco Cabin Rentals"
    />
    <meta
      property="og:description"
      content="Disfruta de cabañas con energía solar, agua caliente 24h y más de 4,000 m² de jardín. Vista panorámica 360°. | Enjoy cabins with solar energy, 24h hot water and over 4,000 m² of garden. 360° panoramic views."
    />
    <meta
      property="og:image"
      content="https://www.losagapandostapalpa.com/images/agapandos-aereo.jpg"
    />
    <meta property="og:locale" content="es_MX" />
    <meta property="og:locale:alternate" content="en_US" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta
      property="twitter:url"
      content="https://www.losagapandostapalpa.com/"
    />
    <meta
      property="twitter:title"
      content="Cabañas Los Agapandos - Renta de Cabañas Ecológicas"
    />
    <meta
      property="twitter:description"
      content="Cabañas con energía solar, agua caliente 24h y jardín de 4,000 m². Vista 360°."
    />
    <meta
      property="twitter:image"
      content="https://www.losagapandostapalpa.com/images/agapandos-aereo.jpg"
    />

    <!-- Additional SEO -->
    <link rel="canonical" href="https://www.losagapandostapalpa.com/" />
    <meta name="theme-color" content="#6c6464" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Italianno&display=swap"
      rel="stylesheet"
    />

    <!-- Pannellum 360 Viewer -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"
    />

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "LodgingBusiness",
        "name": "Cabañas Los Agapandos",
        "description": "Renta de cabañas ecológicas con energía solar, agua caliente 24 horas y amplios jardines. Experiencia única de hospedaje rural.",
        "url": "https://www.losagapandostapalpa.com",
        "telephone": "+52-xxx-xxx-xxxx",
        "address": {
          "@type": "PostalAddress",
          "addressCountry": "MX",
          "addressLocality": "México"
        },
        "geo": {
          "@type": "GeoCoordinates"
        },
        "amenityFeature": [
          {
            "@type": "LocationFeatureSpecification",
            "name": "Energía Solar",
            "value": true
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Agua Caliente 24h",
            "value": true
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Jardín 4000m²",
            "value": true
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Juegos Infantiles",
            "value": true
          },
          {
            "@type": "LocationFeatureSpecification",
            "name": "Cancha Multiusos",
            "value": true
          }
        ],
        "image": [
          "https://www.losagapandostapalpa.com/images/agapandos-aereo.jpg",
          "https://www.losagapandostapalpa.com/images/chicas/chica.jpg",
          "https://www.losagapandostapalpa.com/images/grandes/grande.jpg"
        ],
        "priceRange": "$$$",
        "starRating": {
          "@type": "Rating",
          "ratingValue": "5"
        }
      }
    </script>
  </head>
  <body class="font-poppins bg-[#6c6464]">
    <Intro />

    <!-- Pannellum Viewer Modal -->
    <div
      id="pannellum-modal"
      class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[10002] hidden"
    >
      <div class="relative w-full h-full max-w-screen-xl max-h-screen-xl">
        <div id="pannellum-viewer" class="w-full h-full"></div>
        <button
          id="pannellum-close"
          class="absolute top-4 right-4 text-white text-3xl font-bold cursor-pointer"
        >
          &times;
        </button>
      </div>
    </div>

    <!-- Main content (hidden behind loading screen initially) -->
    <main class="min-h-screen">
      <NavBar />
      <Seccion1 />
      <Seccion2 />
      <Seccion3 />
      <Seccion4 />
      <Specs />
      <Seccion5 />
      <Seccion6 />
      <Map />
      <!-- Purchase CTA Section -->
      <section
        id="compra"
        class="w-full py-12 sm:py-16 lg:py-20 flex flex-col items-center justify-center bg-[#6c6464] min-h-[60vh]"
      >
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
          <div
            class="max-w-4xl mx-auto bg-white/10 backdrop-blur-sm rounded-xl sm:rounded-2xl shadow-xl p-8 sm:p-10 md:p-12 lg:p-16 purchase-reveal"
          >
            <h2
              class="text-white text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-6 sm:mb-8 italianno-regular text-shadow-md purchase-title"
            >
              ¿Te gustaría comprar?
            </h2>
            <p
              class="text-white text-lg sm:text-xl lg:text-2xl mb-8 sm:mb-10 font-poppins leading-relaxed purchase-text"
            >
              Descubre nuestras opciones de venta y haz realidad tu sueño de
              tener tu propio espacio en este paraíso natural.
            </p>
            <div class="flex justify-center purchase-button">
              <AnimatedButton
                label="Ver Opciones"
                route="/venta"
                animateOnScroll={false}
                client:load
              />
            </div>
          </div>
        </div>
      </section>

      <script>
        import gsap from "gsap";
        import { ScrollTrigger } from "gsap/ScrollTrigger";

        document.addEventListener("DOMContentLoaded", () => {
          gsap.registerPlugin(ScrollTrigger);

          // Animate purchase section container
          gsap.fromTo(
            ".purchase-reveal",
            {
              opacity: 0,
              y: 80,
              scale: 0.95,
            },
            {
              opacity: 1,
              y: 0,
              scale: 1,
              duration: 1.2,
              ease: "power3.out",
              scrollTrigger: {
                trigger: ".purchase-reveal",
                start: "top 85%",
                toggleActions: "play none none none",
              },
            }
          );

          // Animate purchase title
          gsap.fromTo(
            ".purchase-title",
            {
              opacity: 0,
              y: 30,
            },
            {
              opacity: 1,
              y: 0,
              duration: 1,
              delay: 0.3,
              ease: "power3.out",
              scrollTrigger: {
                trigger: ".purchase-title",
                start: "top 85%",
                toggleActions: "play none none none",
              },
            }
          );

          // Animate purchase text
          gsap.fromTo(
            ".purchase-text",
            {
              opacity: 0,
              y: 20,
            },
            {
              opacity: 1,
              y: 0,
              duration: 1,
              delay: 0.5,
              ease: "power3.out",
              scrollTrigger: {
                trigger: ".purchase-text",
                start: "top 85%",
                toggleActions: "play none none none",
              },
            }
          );

          // Animate purchase button
          gsap.fromTo(
            ".purchase-button",
            {
              opacity: 0,
              scale: 0.8,
            },
            {
              opacity: 1,
              scale: 1,
              duration: 0.8,
              delay: 0.7,
              ease: "back.out(1.5)",
              scrollTrigger: {
                trigger: ".purchase-button",
                start: "top 90%",
                toggleActions: "play none none none",
              },
            }
          );
        });
      </script>

      <Footer />
    </main>
    <script
      src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"
      is:inline></script>
  </body>
</html>
